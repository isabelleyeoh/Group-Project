{% extends '_layout.html' %}


{% block header %}
<link rel="stylesheet" href="https://use.fontawesome.com/releases/v5.7.2/css/all.css" integrity="sha384-fnmOCqbTlWIlj8LyTjo7mOUStjsKC4pOpQbqyi7RrhN7udi9RwhKkMHpvLbHG9Sr" crossorigin="anonymous">
{% endblock %}

{% block content %}
<div class='container'>
    <div class='col-6 offset-3 jumbotron registration mt-4'>
        <legend class='text-center'>
            <h1>Create Account</h1>
            <p>Get started with your free account</p>
        </legend>
        

        <form action="{{ url_for('create') }}" method="POST">
          <input type="hidden" value="{{csrf_token()}}" name='csrf_token'>    
            <!--=======BUYER SELLER =======-->
          <div class="input-group mb-3">
            <div class="input-group-prepend">
              <span class="input-group-text" id="basic-addon1"><i class="fas fa-user-md"></i></span>
            </div>
            <select class="custom-select" id="userType">
              <option selected>Choose...</option>
              <option value="1">Buyer</option>
              <option value="2">Seler</option>
            </select>
          </div>
          
          <div id='dynamic-form'>

          </div>
        </form>

    </div>	
</div>

<script>
  $(document).ready(function() {
    $('#userType').on('change', function() {
      if ($('#userType').val() == 1) {

        let fullname = '<div class="input-group mb-3"><div class="input-group-prepend"><span class="input-group-text" id="basic-addon1"><i class="far fa-user-circle"></i></span></div><input type="text" class="form-control" placeholder="Full name" name="username"></div>'

        let email = '<div class="input-group mb-3">\
          <div class="input-group-prepend"><span class="input-group-text" id="basic-addon1"><i class="far fa-envelope"></i></span></div><input type="text" class="form-control" placeholder="Email address" name="email"></div>'

        let password='<div class="input-group mb-3">\
            <div class="input-group-prepend">\
            <span class="input-group-text" id="basic-addon1"><i class="fas fa-lock"></i></i></span>\
            </div>\
            <input type="text" class="form-control" placeholder="Password" name="password">\
            </div>'

        let button = '<button class="btn btn-primary col-12 form-group">Create Account</button>\
        <p class="text-center">Have an Account? <a href="#">Log In</a></p>'

        $('#dynamic-form').html(fullname + email + password + button) 

      }else if($('#userType').val() == 2) {

        let fullname = '<div class="input-group mb-3"><div class="input-group-prepend"><span class="input-group-text" id="basic-addon1"><i class="far fa-user-circle"></i></span></div><input type="text" class="form-control" placeholder="Full name" name="username"></div>'

        let email = '<div class="input-group mb-3">\
          <div class="input-group-prepend"><span class="input-group-text" id="basic-addon1"><i class="far fa-envelope"></i></span></div><input type="text" class="form-control" placeholder="Email address" name="email"></div>'

        let button = '<button class="btn btn-primary col-12 form-group">Create Account</button>\
          <p class="text-center">Have an Account? <a href="#">Log In</a></p>'

        $('#dynamic-form').html(fullname + email + button)

      }else {
        $('#dynamic-form').html('')
      }
    });
  });



</script>
{% endblock %}